<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ONUADɔ Membership and Beneficiary Form</title>
  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    /* --- General Styles --- */
    body { background-color: #f3cc5f; font-family: 'Times New Roman', serif; margin: 0; padding: 20px; color: #000; font-size: 14px; }
    .form-container { max-width: 800px; margin: 20px auto; padding: 20px; background-color: #f3cc5f; }
    .logo-container { text-align: center; margin-bottom: 15px; }
    .logo { max-width: 120px; height: auto; }
    .form-title { text-align: center; font-family: Arial, sans-serif; font-weight: bold; font-size: 1.2em; margin-bottom: 20px; }
    .form-section { margin-bottom: 20px; }
    .section-title { font-family: Arial, sans-serif; font-weight: bold; font-size: 1em; margin-bottom: 10px; border-bottom: 1px solid #555; padding-bottom: 4px; }
    .form-grid { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 10px; }
    .form-group { flex: 1; min-width: 180px; }
    label { display: block; margin-bottom: 4px; font-size: 0.85em; font-weight: bold; }
    input[type="text"], textarea { width: 100%; padding: 6px; box-sizing: border-box; border: 1px solid #000; background-color: #fff; font-size: 0.95em; }
    textarea { height: 80px; resize: vertical; }
    .beneficiary-item { display: flex; flex-wrap: wrap; gap: 15px; padding: 12px 0; border-bottom: 1px dashed #555; }
    .beneficiary-item:last-child { border-bottom: none; }
    .beneficiary-number { font-weight: bold; font-size: 1em; padding-top: 20px; }
    .checkbox-group { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; padding-top: 20px; }
    .checkbox-item { display: flex; align-items: center; gap: 5px; }
    input[type="radio"] { width: 16px; height: 16px; }
    .submit-container { text-align: center; margin-top: 20px; }
    .submit-btn { background-color: #4a6da7; color: #fff; padding: 10px 20px; border: none; border-radius: 5px; font-size: 1em; font-weight: bold; cursor: pointer; transition: background-color 0.3s; }
    .submit-btn:hover { background-color: #3b5786; }
    @media (max-width: 600px) {
      .form-grid, .beneficiary-item { flex-direction: column; }
      .checkbox-group { flex-direction: column; gap: 10px; width: 100%; }
      .form-group { min-width: 100% !important; }
      .beneficiary-number { padding-top: 0; }
      .checkbox-item label { font-size: 13px; }
      input[type="radio"] { transform: scale(1.1); }
    }
  </style>
</head>
<body>
  <div class="form-container" id="formContent">
    <form id="membershipForm" action="https://formspree.io/f/xvgrdrwj" method="POST">
      <div class="logo-container">
        <img src="https://i.ibb.co/yFCt7RVh/img15.jpg" alt="We Are One Logo" class="logo" />
      </div>
      <h1 class="form-title">ONUADɔ MEMBERSHIP AND BENEFICIARY FORM</h1>
      <!-- MEMBER INFORMATION -->
      <div class="form-section">
        <h2 class="section-title">MEMBER INFORMATION</h2>
        <div class="form-grid">
          <div class="form-group">
            <label for="member_first_name">First Name</label>
            <input type="text" id="member_first_name" name="Member First Name" required />
          </div>
          <div class="form-group">
            <label for="member_last_name">Last Name</label>
            <input type="text" id="member_last_name" name="Member Last Name" required />
          </div>
          <div class="form-group">
            <label for="member_other_names">Other Names</label>
            <input type="text" id="member_other_names" name="Member Other Names" />
          </div>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label for="dob_day">Date of Birth (Day)</n            </label>
            <input type="text" id="dob_day" name="Date of Birth - Day" />
          </div>
          <div class="form-group">
            <label for="dob_month">Date of Birth (Month)</label>
            <input type="text" id="dob_month" name="Date of Birth - Month" />
          </div>
        </div>
      </div>
      <!-- CONTACT INFORMATION -->
      <div class="form-section">
        <h2 class="section-title">CONTACT INFORMATION</h2>
        <div class="form-grid">
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="text" id="phone" name="Phone Number" required />
          </div>
          <div class="form-group">
            <label for="address">Address</label>
            <textarea id="address" name="Address"></textarea>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label for="country">Country</label>
            <input type="text" id="country" name="Country" />
          </div>
          <div class="form-group">
            <label for="town">Town</label>
            <input type="text" id="town" name="Town" />
          </div>
        </div>
      </div>
      <!-- NEXT OF KIN -->
      <div class="form-section">
        <h2 class="section-title">NEXT OF KIN</h2>
        <div class="form-grid">
          <div class="form-group">
            <label for="nok_first_name">First Name</label>
            <input type="text" id="nok_first_name" name="Next of Kin - First Name" />
          </div>
          <div class="form-group">
            <label for="nok_last_name">Last Name</label>
            <input type="text" id="nok_last_name" name="Next of Kin - Last Name" />
          </div>
          <div class="form-group">
            <label for="nok_other_names">Other Names</label>
            <input type="text" id="nok_other_names" name="Next of Kin - Other Names" />
          </div>
        </div>
      </div>
      <!-- BENEFICIARIES -->
      <div class="form-section">
        <h2 class="section-title">BENEFICIARIES</h2>
        <!-- Beneficiary 1 -->
        <div class="beneficiary-item">
          <span class="beneficiary-number">1.</span>
          <div class="form-group">
            <label for="b1_first_name">First Name</label>
            <input type="text" id="b1_first_name" name="Beneficiary 1 - First Name" />
          </div>
          <div class="form-group">
            <label for="b1_last_name">Last Name</label>
            <input type="text" id="b1_last_name" name="Beneficiary 1 - Last Name" />
          </div>
          <div class="form-group checkbox-group">
            <div class="checkbox-item">
              <input type="radio" id="b1_father" name="Beneficiary 1 - Relationship" value="Father" />
              <label for="b1_father">Father</label>
            </div>
            <div class="checkbox-item">
              <input type="radio" id="b1_mother" name="Beneficiary 1 - Relationship" value="Mother" />
              <label for="b1_mother">Mother</label>
            </div>
            <div class="checkbox-item">
              <input type="radio" id="b1_uncle" name="Beneficiary 1 - Relationship" value="Uncle" />
              <label for="b1_uncle">Uncle</label>
            </div>
          </div>
        </div>
        <div class="beneficiary-item">
            <span class="beneficiary-number">2.</span>
            <div class="form-group">
                <label for="b2_first_name">First Name:</label>
                <input type="text" id="b2_first_name" name="Beneficiary 2 - First Name">
            </div>
            <div class="form-group">
                <label for="b2_last_name">Last Name:</label>
                <input type="text" id="b2_last_name" name="Beneficiary 2 - Last Name">
            </div>
            <div class="form-group checkbox-group">
                <div class="checkbox-item">
                    <input type="radio" id="b2_father" name="Beneficiary 2 - Relationship" value="Father">
                    <label for="b2_father">Father</label>
                </div>
                <div class="checkbox-item">
                    <input type="radio" id="b2_mother" name="Beneficiary 2 - Relationship" value="Mother">
                    <label for="b2_mother">Mother</label>
                </div>
                <div class="checkbox-item">
                    <input type="radio" id="b2_aunty" name="Beneficiary 2 - Relationship" value="Aunty">
                    <label for="b2_aunty">Aunty</label>
                </div>
            </div>
        </div>

        <div class="beneficiary-item">
            <span class="beneficiary-number">3.</span>
            <div class="form-group">
                <label for="b3_first_name">First Name:</label>
                <input type="text" id="b3_first_name" name="Beneficiary 3 - First Name">
            </div>
            <div class="form-group">
                <label for="b3_last_name">Last Name:</label>
                <input type="text" id="b3_last_name" name="Beneficiary 3 - Last Name">
            </div>
            <div class="form-group">
                <label for="b3_event">Marriage/Anniversary</label>
                <input type="text" id="b3_event" name="Beneficiary 3 - Event">
            </div>
        </div>

        <div class="beneficiary-item">
            <span class="beneficiary-number">4.</span>
            <div class="form-group">
                <label for="b4_first_name">First Name:</label>
                <input type="text" id="b4_first_name" name="Beneficiary 4 - First Name">
            </div>
            <div class="form-group">
                <label for="b4_last_name">Last Name:</label>
                <input type="text" id="b4_last_name" name="Beneficiary 4 - Last Name">
            </div>
            <div class="form-group">
                <label for="b4_event">Event/Ceremony</label>
                <input type="text" id="b4_event" name="Beneficiary 4 - Event">
            </div>
        </div>
      </div>
      <!-- Submit Button -->
      <div class="submit-container">
        <button type="submit" class="submit-btn">Submit Form</button>
      </div>
    </form>
  </div>
  <!-- PDF Export Script -->
  <script>
  window.addEventListener('load', () => {
  const { jsPDF } = window.jspdf;
  const form = document.getElementById('membershipForm');
  const container = document.getElementById('formContent');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // Hide the submit button during capture
    const submitContainer = document.querySelector('.submit-container');
    if (submitContainer) submitContainer.style.display = 'none';

    document.querySelectorAll('.checkbox-group').forEach(group => {
    group.querySelectorAll('.checkbox-item').forEach(item => {
        const input = item.querySelector('input[type="radio"]');
        if (!input.checked) {
        item.style.display = 'none';
        }
    });
    });

    // Render form to canvas at high resolution
    const canvas = await html2canvas(container, { scale: 2, useCORS: true, scrollY: -window.scrollY });
    const imgData = canvas.toDataURL('image/png', 1.0);

    // Create single-page PDF matching canvas dimensions in px
    const pdf = new jsPDF({ unit: 'px', format: [canvas.width, canvas.height], orientation: 'portrait' });
    pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);

    // Save PDF
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    const filename = `ONUAD_Membership_${data['Member First Name']}_${data['Member Last Name']}.pdf`;
    pdf.save(filename);

    // const message = `Hello ${data['Member First Name']} ${data['Member Last Name']},%0A%0AYour PDF is ready. Please check your download folder and attach it here.`;
    // const phoneNumber = '233550782685';
    // window.open(`https://wa.me/${phoneNumber}?text=${message}`, '_blank');

    // Restore submit button
    if (submitContainer) submitContainer.style.display = '';
  });
});

  </script>
</body>
</html>
